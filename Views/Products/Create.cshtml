@model CreateProductDto
@{
    ViewData["Title"] = "Yeni √úr√ºn Ekle";
}

<!-- Main Container -->
<div class="main-container">
    <div class="section-header">
        <h1 class="section-title">‚ûï Yeni √úr√ºn Ekle</h1>
        <a href="/Products" class="btn btn-secondary">
            ‚Üê Geri D√∂n
        </a>
    </div>

    @if (!string.IsNullOrEmpty(ViewBag.Error))
    {
        <div class="alert alert-danger">
            ‚ùå @ViewBag.Error
        </div>
    }

    <div class="cards-container">
        <form asp-action="Create" method="post">
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 24px;">
                <!-- Temel Bilgiler -->
                <div>
                    <h3 style="margin-bottom: 20px; font-size: 18px; font-weight: 600;">üìã Temel Bilgiler</h3>
                    
                    <div class="form-group">
                        <label class="form-label" for="Code">√úr√ºn Kodu *</label>
                        <input type="text" 
                               class="form-control" 
                               id="Code" 
                               name="Code" 
                               asp-for="Code"
                               placeholder="PROD-001" 
                               required />
                        <span asp-validation-for="Code" class="text-danger"></span>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="Name">√úr√ºn Adƒ± *</label>
                        <input type="text" 
                               class="form-control" 
                               id="Name" 
                               name="Name" 
                               asp-for="Name"
                               placeholder="√úr√ºn adƒ±nƒ± girin" 
                               required />
                        <span asp-validation-for="Name" class="text-danger"></span>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="CategoryCode">Kategori *</label>
                        <select class="form-select" 
                                id="CategoryCode" 
                                name="CategoryCode" 
                                asp-for="CategoryCode"
                                required>
                            <option value="">Kategori se√ßin</option>
                            @foreach (var category in (List<Category>)ViewBag.Categories)
                            {
                                <option value="@category.CategoryCode">@category.CategoryName (@category.CategoryCode)</option>
                            }
                        </select>
                        <span asp-validation-for="CategoryCode" class="text-danger"></span>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="ShortDescription">Kƒ±sa A√ßƒ±klama</label>
                        <textarea class="form-control" 
                                  id="ShortDescription" 
                                  name="ShortDescription" 
                                  asp-for="ShortDescription"
                                  rows="3" 
                                  placeholder="√úr√ºn hakkƒ±nda kƒ±sa a√ßƒ±klama"></textarea>
                    </div>
                </div>

                <!-- Fiyat ve Stok -->
                <div>
                    <h3 style="margin-bottom: 20px; font-size: 18px; font-weight: 600;">üí∞ Fiyat ve Stok</h3>
                    
                    <div class="form-group">
                        <label class="form-label" for="Price">Satƒ±≈ü Fiyatƒ± (TL) *</label>
                        <input type="number" 
                               class="form-control" 
                               id="Price" 
                               name="Price" 
                               asp-for="Price"
                               step="0.01" 
                               min="0"
                               placeholder="299.99" 
                               required />
                        <span asp-validation-for="Price" class="text-danger"></span>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="BuyingPrice">Alƒ±≈ü Fiyatƒ± (TL)</label>
                        <input type="number" 
                               class="form-control" 
                               id="BuyingPrice" 
                               name="BuyingPrice" 
                               asp-for="BuyingPrice"
                               step="0.01" 
                               min="0"
                               placeholder="200.00" />
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="Stock">Stok Miktarƒ± *</label>
                        <input type="number" 
                               class="form-control" 
                               id="Stock" 
                               name="Stock" 
                               asp-for="Stock"
                               min="0"
                               placeholder="100" 
                               required />
                        <span asp-validation-for="Stock" class="text-danger"></span>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="Brand">Marka</label>
                        <input type="text" 
                               class="form-control" 
                               id="Brand" 
                               name="Brand" 
                               asp-for="Brand"
                               placeholder="Marka adƒ±" />
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="Vat">KDV Oranƒ± (%)</label>
                        <select class="form-select" 
                                id="Vat" 
                                name="Vat" 
                                asp-for="Vat">
                            <option value="">KDV Se√ßin</option>
                            <option value="0">%0</option>
                            <option value="1">%1</option>
                            <option value="8">%8</option>
                            <option value="18" selected>%18</option>
                            <option value="20">%20</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="Currency">Para Birimi</label>
                        <select class="form-select" 
                                id="Currency" 
                                name="Currency" 
                                asp-for="Currency">
                            <option value="TL" selected>TL</option>
                            <option value="USD">USD</option>
                            <option value="EUR">EUR</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Submit Buttons -->
            <div style="margin-top: 32px; display: flex; gap: 12px; justify-content: flex-end;">
                <a href="/Products" class="btn btn-secondary">
                    ‚ùå ƒ∞ptal
                </a>
                <button type="submit" class="btn btn-success">
                    ‚úÖ √úr√ºn√º Kaydet
                </button>
            </div>
        </form>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
